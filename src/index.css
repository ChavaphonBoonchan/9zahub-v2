@tailwind base;
@tailwind components;
@tailwind utilities;

/* ฟอนต์และสไตล์รวม */
:root {
  --bg-grid: radial-gradient(circle at 1px 1px, #cce6ff 1px, transparent 1px);
  --bg-grid-dark: radial-gradient(circle at 1px 1px, #1a365d 1px, transparent 1px);
}

html, body, #root { height: 100%; }

/* ฟอนต์หลัก */
body { 
  font-family: 'Press Start 2P', system-ui, sans-serif;
  transition: font-family 0.3s ease;
}

/* Dark mode styles */
.dark {
  --bg-grid: var(--bg-grid-dark);
}

.dark body {
  background-color: #0f172a;
  color: #e2e8f0;
}

/* ปุ่มสไตล์พิกเซล */
.pixel-btn {
  image-rendering: pixelated;
  box-shadow: 0 0 0 4px #002851, 0 0 0 8px #1e90ff, 6px 6px 0 0 #00285133;
  transition: all 0.1s ease;
  cursor: pointer;
  user-select: none;
  min-height: 48px; /* Ensure minimum touch target size */
  position: relative;
  overflow: hidden;
}

.pixel-btn:hover {
  transform: translate(-1px, -1px);
  box-shadow: 0 0 0 4px #002851, 0 0 0 8px #1e90ff, 8px 8px 0 0 #00285133;
}

.pixel-btn:active { 
  transform: translate(2px, 2px); 
  box-shadow: 0 0 0 4px #002851, 0 0 0 8px #1e90ff, 2px 2px 0 0 #00285133; 
}

/* Dark mode button styles */
.dark .pixel-btn {
  box-shadow: 0 0 0 4px #1e293b, 0 0 0 8px #3b82f6, 6px 6px 0 0 #1e293b33;
}

.dark .pixel-btn:hover {
  box-shadow: 0 0 0 4px #1e293b, 0 0 0 8px #3b82f6, 8px 8px 0 0 #1e293b33;
}

.dark .pixel-btn:active {
  box-shadow: 0 0 0 4px #1e293b, 0 0 0 8px #3b82f6, 2px 2px 0 0 #1e293b33;
}

/* CRT effect */
.crt {
  position: relative;
  filter: contrast(1.05) saturate(1.05);
}

.crt::before {
  content: '';
  pointer-events: none;
  position: absolute; inset: 0;
  background: linear-gradient(rgba(255,255,255,0.04), rgba(0,0,0,0.08)),
              repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 2px, transparent 3px);
  mix-blend-mode: multiply;
  animation: flicker 3s infinite;
}

.crt::after {
  content: '';
  pointer-events: none;
  position: absolute; inset: 0;
  background: radial-gradient(ellipse at center, transparent 60%, rgba(0,0,0,0.35) 100%);
}

.grid-bg {
  background-image: var(--bg-grid);
  background-size: 24px 24px;
  transition: background-image 0.3s ease;
}

/* Loader */
.loading-scan {
  position: absolute; left: 0; right: 0; height: 8px;
  background: linear-gradient(to right, transparent, rgba(30,144,255,0.6), transparent);
  animation: scan 2.2s linear infinite;
}

/* Font family classes */
.font-pixel {
  font-family: 'Press Start 2P', system-ui, sans-serif;
}

.font-thai-pixel {
  font-family: 'Kanit', 'Press Start 2P', system-ui, sans-serif;
  font-weight: 400;
}

.font-mono {
  font-family: 'VT323', ui-monospace, SFMono-Regular;
}

/* Animation keyframes */
@keyframes flicker {
  0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; }
  20%, 24%, 55% { opacity: 0.94; }
}

@keyframes scan {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}

/* Glitch effect */
@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
  100% { transform: translate(0); }
}

/* Particle animation */
@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(180deg); }
}

/* Button glow effect */
@keyframes buttonGlow {
  0% { box-shadow: 0 0 0 4px #002851, 0 0 0 8px #1e90ff, 6px 6px 0 0 #00285133; }
  50% { box-shadow: 0 0 0 4px #002851, 0 0 0 8px #1e90ff, 6px 6px 0 0 #00285133, 0 0 20px rgba(30,144,255,0.5); }
  100% { box-shadow: 0 0 0 4px #002851, 0 0 0 8px #1e90ff, 6px 6px 0 0 #00285133; }
}

/* Smooth transitions for theme changes */
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .pixel-btn {
    min-height: 56px; /* Larger touch targets on mobile */
  }
  
  /* Ensure buttons are large enough for touch */
  button {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Adjust logo size for mobile */
  .logo-text {
    font-size: 2rem;
  }
}

/* Enhanced button effects */
.pixel-btn:hover {
  animation: buttonGlow 2s ease-in-out infinite;
}

/* Text shadow effects */
.text-glow {
  text-shadow: 0 0 10px currentColor;
}

/* Scan line effect */
.scan-line {
  position: absolute;
  width: 100%;
  height: 2px;
  background: linear-gradient(to right, transparent, #1e90ff, transparent);
  animation: scan 3s linear infinite;
}